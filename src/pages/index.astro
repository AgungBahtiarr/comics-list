---
import Layout from "../layouts/Layout.astro";
import Comic from "../components/partials/comic.astro";
---

<Layout>
  <div class="flex justify-center items-center h-screen">
    <div class="overflow-x-auto">
      <table class="table table-zebra">
        <!-- head -->
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Link</th>
            <th>Chapter</th>
            <th>
              <button class="btn" onclick="modal_add.showModal()"
                >Add Comics</button
              >
              <dialog id="modal_add" class="modal">
                <div class="modal-box">
                  <h3 class="text-lg font-bold">Hello!</h3>
                  <form
                    hx-post="/api/comics"
                    hx-target="#comics"
                    hx-swap="beforeend"
                    hx-on:htmx:after-request="document.getElementById('modal_add').close();"
                  >
                    <fieldset class="fieldset">
                      <legend class="fieldset-legend">Comic Name</legend>
                      <input
                        type="text"
                        class="input"
                        placeholder="Type here"
                        name="name"
                      />
                    </fieldset>
                    <fieldset class="fieldset">
                      <legend class="fieldset-legend">Comic Link</legend>
                      <input
                        type="text"
                        class="input"
                        placeholder="Type here"
                        name="link"
                      />
                    </fieldset>
                    <fieldset class="fieldset">
                      <legend class="fieldset-legend">Chapter</legend>
                      <input
                        type="text"
                        class="input"
                        placeholder="Type here"
                        name="chapter"
                      />
                    </fieldset>
                    <button class="btn">Submit</button>
                  </form>

                  <div class="modal-action">
                    <form method="dialog">
                      <button class="btn">Close</button>
                    </form>
                  </div>
                </div>
              </dialog></th
            >
          </tr>
        </thead>
        <!-- body -->
        <tbody id="comics">
          <Comic name="Mount hwa" link="https://shinigami09" chapter="1" />
        </tbody>
      </table>
    </div>
  </div>
</Layout>
